!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(n,s,function(e){return t[e]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=11)}([function(t){const e={min:function(t){var e=Math.min;return Array.isArray(t)?e.apply(null,t):e.apply(null,arguments)},max:function(t){var e=Math.max;return Array.isArray(t)?e.apply(null,t):e.apply(null,arguments)},getWidth:function(t){return t.getBoundingClientRect().width},getHeight:function(t){return t.getBoundingClientRect().height},width:function(t){return t.getBoundingClientRect().width},height:function(t){return t.getBoundingClientRect().height},extend:function(){return Object.assign.apply(null,arguments)},last:function(t){return Array.isArray(t)?t[t.length-1]:null},forIn:function(t,e){if(e)for(let i in t)e(t[i],i)},forEach:function(t,e){if(e&&t)for(let i=0,n=t.length;i<n;i++)e(t[i],i)},round:function(t,e){e=e||0;let i=Math.pow(10,e);return Math.round(t*i)/i},get SVG_NS(){return"http://www.w3.org/2000/svg"},erase:function(t){for(;t.childNodes.length;)t.removeChild(t.firstChild)},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},offsetTop:function(t){return t.getBoundingClientRect().top+(pageYOffset||document.documentElement.scrollTop)},offsetLeft:function(t){return t.getBoundingClientRect().left+(pageXOffset||document.documentElement.scrollLeft)},isChild:function(t,e){for(;t&&t!==document.documentElement;)if((t=t.parentNode)===e)return!0;return!1},requestWidth:function(){let t=e,i=0<window.innerWidth?window.innerWidth:screen.width;return i>500*t.dpr&&(i=500*t.dpr),i},get dpr(){return 1},get yRatio(){screen.width},get hRatio(){MAX_HEIGHT,screen.height}};t.exports=e},function(t,e,i){function n(){this._container=document.body,this._el=this._init(),this._el.addEventListener("click",t=>{t.preventDefault(),this._onClick&&this._onClick()})}const s=i(17),a=i(0);i(18);n.prototype={show:function(t,e){this._el;let i=this._findBestX(t);this._el.style.left=`${i}px`,this._el.style.top=`${e}px`,this._el.style.display="block",this._w=a.width(this._el)},hide:function(){this._el.style.display="none"},setTitle:function(t){this._el.querySelector(".popup_title").innerHTML=t||""},showTitle:function(){this._titleIsHidden&&(this._el.querySelector(".popup_title").style.display="block",this._titleIsHidden=!1)},hideTitle:function(){this._titleIsHidden||(this._el.querySelector(".popup_title").style.display="none",this._titleIsHidden=!0)},setOnClick:function(t){this._onClick=t},_findBestX:function(t){let e=this._el,i=this.width,n=e.parentNode.getBoundingClientRect().width,s=t-i-10;if(0>s){let e=t+20;return e+i<n?e:e+i-n>1*s?0:n-i}return s},setDescription:function(t){let e=this._el.querySelector(".popup_description");a.erase(e),a.forEach(t,t=>{let i=document.createElement("div"),n=document.createElement("span"),s=document.createElement("span");i.appendChild(n),n.innerHTML=t.title,i.appendChild(s),s.innerHTML=this._formatValue(t.value),s.style.color=t.color,e.appendChild(i)})},_formatValue:function(t){if(!t)return 0;let e=[];for(;t;){let i=t%1e3;(t=Math.floor(t/1e3))&&(2==(i=`${i}`).length?i=`0${i}`:1==i.length&&(i=`00${i}`)),e.unshift(i)}return e.join(" ")},get el(){return this._el},get width(){return this._w||100},_init:function(){let t=document.createElement("div");t.innerHTML=s;let e=t.firstChild;return this._container.appendChild(e),e}},t.exports={Popup:n,singleton:new n}},function(t,e,i){function n(){this._data=null,this._container=null,this._el=null,this._options=null,this._grid=null,this._interfaces=[]}var s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;const l=i(0);n.prototype={drawGrid:function(){if(!this._grid)return;let t=a,e=s,i=a,n=s;l.forIn(this._data,s=>{s.enabled&&(t=l.min(s.visibleMinXValue,t),e=l.max(s.visibleMaxXValue,e),i=l.min(s.visibleMinYValue,i),n=l.max(s.visibleMaxYValue,n))}),this._grid.draw(t,e,i,n)},computeData:function(t,e){this._data={},l.forIn(t.types,(t,i)=>{if("x"===t)return;let n=!0;e&&(n=-1===e.indexOf(i)),this._data[i]={id:i,enabled:n}});let i=t.columns[0].slice(1);l.forEach(t.columns,e=>{if("x"!==e[0]){let n=e[0],s=this._data[n];s.x=i,s.y=e.slice(1),s.color=t.colors[n],s.name=t.names[n]}})},enable:function(t){let e=this._data[t];!e||e.enabled||(e.enabled=!0,this.draw(this._xScale,this._xTranslate,!0))},disable:function(t){let e=this._data[t];e&&e.enabled&&(e.enabled=!1,this.draw(this._xScale,this._xTranslate,!0))},getAnyEnabledRecord:function(){for(let t in this._data)if(this._data[t].enabled)return this._data[t];return null},getVisibleMinXValue:function(){let t;return l.forIn(this._data,e=>{e.enabled&&(t=e.visibleMinXValue)}),t},getVisibleMaxXValue:function(){let t;return l.forIn(this._data,e=>{e.enabled&&(t=e.visibleMaxXValue)}),t},getValues:function(t){let e;for(let t in this._data)if((e=this._data[t]).enabled)break;let i=this.interpolateX(t,e.minXValue,e.xRatio),n=this.getClosestIndexByXValue(i,e.x),s=[];return l.forIn(this._data,t=>{if(t.enabled){let e=t.x,i=t.y;s.push({id:t.id,name:t.name,xValue:e[n],yValue:i[n],color:t.color,i:n})}}),s},getMinXValue:function(){for(let t in this._data){let e=this._data[t];if(e.enabled)return e.minXValue}},getMaxXValue:function(){for(let t in this._data){let e=this._data[t];if(e.enabled)return e.maxXValue}},interpolateXValue:function(t,e,i){let n=i*(t-e)*this._xScale,s=this._xTranslate*this.width;return l.round(n-s)},interpolateX:function(t,e,i){return e+(t=this._xTranslate*this.width+t)/(i*this._xScale)},interpolateYValue:function(t,e,i){let n=i*t*this._yScale;return this.height-n},interpolateY:function(t,e,i){return l.round((this.height-t)/(i*this._yScale))},getClosestIndexByXValue:function(t,e){let i,n;for(let s=0,a=e.length;s<a&&(n=s,i=0==s?0:s-1,!(e[s]>t));s++);return e[n]-t>t-e[i]?i:n},get state(){return{xTranslate:this._xTranslate,xScale:this._xScale,isZoomed:this._options.isZoomed}},get container(){return this._container},get marginTop(){let t=parseFloat(getComputedStyle(this._el).marginTop);return delete this.marginTop,Object.defineProperty(this,"marginTop",{get:()=>t}),t},get marginLeft(){let t=parseFloat(getComputedStyle(this._el).marginLeft);return delete this.marginLeft,Object.defineProperty(this,"marginLeft",{get:()=>t}),t},get marginBottom(){let t=parseFloat(getComputedStyle(this._el).marginBottom);return delete this.marginBottom,Object.defineProperty(this,"marginBottom",{get:()=>t}),t},get height(){let t=l.getHeight(this._ctx.canvas);return delete this.height,Object.defineProperty(this,"height",{get:()=>t}),t},get width(){let t=l.getWidth(this._ctx.canvas);return delete this.width,Object.defineProperty(this,"width",{get:()=>t}),t},get disabled(){let t=[];return l.forIn(this._data,(e,i)=>{e.enabled||t.push(i)}),t},addInterface:function(t){this.supportInterface(t),this._interfaces.push(t)},supportInterface:function(t){return-1!==this._interfaces.indexOf(t)}},t.exports=n},function(t,e,i){function n(t){this._graph=t,this._el=null,this._canvas=null,this.wrap(t),this.render(),this.bindHover(this._canvas)}const s=i(16),a=i(0),l=i(5),r=i(1).singleton;let h=!1;try{let t=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}n.prototype={wrap:function(){throw new Error("Implement wrap function")},bindHover:function(t){if(!this._graph.supportInterface("IInteractive"))throw new Error("Graph should support IInteractive");let e=null,i=!1;t.addEventListener("mouseenter",()=>{this.bindKeyboard&&this.bindKeyboard()}),t.addEventListener("mousemove",n=>{if(!i&&n.target===t){let t=n.offsetX-this._graph.marginLeft;0>t||t>this._graph.width||(this._graph.IInteractive_select(t,n),e=!0)}}),t.addEventListener("touchstart",n=>{if(n.target!==t)return;i=!0;let s=n.touches[0].clientX-this._graph.marginLeft;0>s||((s-=a.offsetLeft(t))>this._graph.width||(this._graph.IInteractive_select(s,n),e=!0))},!!h&&{passive:!1}),t.addEventListener("mouseleave",t=>{t.relatedTarget===r.el||a.isChild(t.relatedTarget,r.el)||requestAnimationFrame(()=>{this._graph.IInteractive_deselect(),e=!1})}),t.addEventListener("click",()=>{i||e&&this._graph.IInteractive_click()})},render:function(){let t=this._graph.container,e=document.createElement("div");e.innerHTML=s;let i=this._el=e.firstChild;t.appendChild(i);let n=i.querySelector("svg");this._canvas=n},showPopup:function(t,e,i){void 0===i.xValue?r.hideTitle():(r.setTitle(this._formatTimestamp(i.xValue,i.isZoomed,i.xValueStep)),r.showTitle()),r.setOnClick(i.onClick),r.setDescription(i.desc),r.show(t,e)},hidePopup:function(){r.hide()},_formatTimestamp:function(t,e,i){let n=new Date(t);return e?i<36e5?l.getRoundHoursWithMinutes(n):l.getRoundHours(n):`${l.getDay(n)}, ${n.getUTCDate()} ${l.getMon(n)} ${n.getUTCFullYear()}`}},t.exports=n},function(t,e,n){function s(t,e){this._graph=t,this._container=t.container,this._svg=null,this._options=a.extend({},h,e),this._drawn=!1,this._xStep=this._options.xStep,this._xAxisNode=null,this._yAxisNode=null,this.render()}const a=n(0),l=n(20),r=n(5);n(21);const h={xStep:100*a.dpr,yStep:60*a.dpr,minXStep:50*a.dpr,maxXStep:130*a.dpr};s.prototype={draw:function(t,e,i,n){this._drawn?(this._redrawXAxis(t,e),this._drawYAxis(i,n)):(this._drawXAxis(t,e),this._drawYAxis(i,n),this._drawn=!0)},drawDualY:function(t,e,i){if(2<t.length||2<e.length)throw new Error("Not supported");this._drawn?this._redrawXAxis(t[0][0],e[0][0]):(this._drawXAxis(t[0][0],e[0][0]),this._drawn=!0),this._drawYAxis(t[0][1],e[0][1],i[0],!1),2==t.length&&this._drawYTitles(t[1][1],e[1][1],i[1],!0)},render:function(){let t=document.createElement("div");t.innerHTML=l;let e=t.firstChild;this._container.appendChild(e),this._svg=e.querySelector("svg")},_clearRect:function(){for(;this._svg.childNodes.length;)this._svg.removeChild(this._svg.firstChild)},_drawXAxis:function(t,e){let i=document.createElementNS(a.SVG_NS,"g"),n=document.createElementNS(a.SVG_NS,"line");i.appendChild(n),this._svg.appendChild(i);let s=this._graph,l=s.marginLeft,r=l+s.width,h=s.marginTop+s.height;n.setAttribute("x1",l),n.setAttribute("y1",h),n.setAttribute("x2",r),n.setAttribute("y2",h),this._xAxisNode=document.createElementNS(a.SVG_NS,"g"),i.appendChild(this._xAxisNode);let o=s.width/this._xStep;this._xValueStep=(e-t)/o,this._drawXTitles(t,e)},_redrawXAxis:function(t,e){let i=(e-t)/this._xValueStep;this._xStep=this._graph.width/i,this._clearNode(this._xAxisNode),(this._xStep<this._options.minXStep||this._xStep>this._options.maxXStep)&&(this._xStep=this._options.xStep,i=this._graph.width/this._xStep,this._xValueStep=(e-t)/i),this._drawXTitles(t,e)},_drawXTitles:function(t,e){function i(t,e,i,n){let s=document.createElementNS(a.SVG_NS,"text");r._xAxisNode.appendChild(s),s.setAttribute("x",t),s.setAttribute("y",e),s.innerHTML=o(i),n&&s.setAttribute("text-anchor","end")}let n=this._graph,s=n.marginLeft,l=n.marginTop+n.height,r=this,h=n.width/this._xStep;{const i=36e5,n=12e5,s=3e5;this._xValueStep<4*s?(this._xValueStep=s,h=(e-t)/this._xValueStep,this._xStep=this._graph.width/h):this._xValueStep<3*n?(this._xValueStep=n,h=(e-t)/this._xValueStep,this._xStep=this._graph.width/h):this._xValueStep<2*i&&(this._xValueStep=i,h=(e-t)/this._xValueStep,this._xStep=this._graph.width/h)}let o=this._getXConvertor("timestamp",t,t+this._xValueStep);for(let e,a=0;a<=h;a++)e=0===a?t:t+this._xValueStep*a,i(s+a*this._xStep,l+n.marginBottom/2,e,a===h)},_drawYAxis:function(t,e,n,s){function l(t,e,i){let n=h.marginLeft,s=n+h.width,l=h.marginTop+t;if(!i){let t=document.createElementNS(a.SVG_NS,"line");r._yAxisNode.appendChild(t),t.setAttribute("x1",n),t.setAttribute("y1",l),t.setAttribute("x2",s),t.setAttribute("y2",l)}}this._yAxisNode?this._clearNode(this._yAxisNode):(this._yAxisNode=document.createElementNS(a.SVG_NS,"g"),this._svg.appendChild(this._yAxisNode));let r=this,h=this._graph,o=h.height/this._options.yStep;for(i=0;i<=o;i++){i;l(h.height-i*this._options.yStep,0,0===i)}this._drawYTitles(t,e,n,s)},_drawYTitles(t,e,n,s){function l(t,e,i,l){let r=document.createElementNS(a.SVG_NS,"text");t.appendChild(r),r.setAttribute("x",e),r.setAttribute("y",i-5),n&&r.setAttribute("fill",n),s&&r.setAttribute("text-anchor","end"),r.innerHTML=o(l)}let r=this._graph,h=r.height/this._options.yStep,o=this._getYConvertor("number"),d=s?r.width+r.marginLeft:r.marginLeft;for(i=0;i<=h;i++){let n=i*((e-t)/h),s=r.height-i*this._options.yStep+r.marginTop;l(this._yAxisNode,d,s,n)}},_getYConvertor:function(t){if("number"!==t)throw new Error(`The type ${t} is not supported`);return function(t){return t>1e6?`${a.round(t/1e6)}M`:t>1e4?`${a.round(t/1e3)}K`:a.round(t)}},_getXConvertor:function(t,e,i){if("timestamp"!==t)throw new Error(`The type ${t} is not supported`);let n=i-e;return n>864e5?function(t){let e=new Date(t);return`${e.getDate()} ${r.getMon(e)}`}:n>216e5?function(t){let e=new Date(t);return`${r.getRoundHours(e)} ${e.getDate()} ${r.getMon(e)}`}:n<36e5?function(t){let e=new Date(t);return`${r.getRoundHoursWithMinutes(e)}`}:function(t){let e=new Date(t);return r.getRoundHours(e)}},_clearNode:function(t){for(;t.childNodes.length;)t.removeChild(t.firstChild)}},t.exports=s},function(t){const e=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];t.exports={getRoundHours:function(t){let e=t.getUTCHours();return 30<=t.getUTCMinutes()&&(e+=1),`${e=2===(e=`${e=24==e?0:e}`).length?e:`0${e}`}:00`},getRoundHoursWithMinutes:function(t){let e=t.getUTCHours(),i=t.getUTCMinutes();return`${e=2===(e=`${e=24===e?0:e}`).length?e:`0${e}`}:${i=2===(i=`${i}`).length?i:`0${i}`}`},getMonth:function(t){let i=t.getUTCMonth();return e[i]},getMon:function(t){let i=t.getUTCMonth();return e[i].substr(0,3)},getDay:function(t){let e=t.getUTCDay();return i[e].substr(0,3)}}},function(t){function e(){this._data={},this._dataByDays={}}e.prototype={load:function(t,e){if(this._data[t])return e&&e(null,this._data[t]);let i=new XMLHttpRequest,n=this;i.addEventListener("load",function(){if(200!==i.status)return e&&e(i.status);let s=i.response;s.id=t,n._data[t]=s,e&&e(null,s)}),i.open("GET",this._getPath(`${t}/overview.json`)),i.responseType="json",i.send()},loadByTimestamp:function(t,e,i){let n=this._dataByDays[t];n||(n=this._dataByDays[t]={});let s=new Date(e),a=`${s.getMonth()+1}`;a=2===a.length?a:`0${a}`;let l=`${s.getFullYear()}-${a}`,r=n[l];r||(r=n[l]={});let h=`${s.getDate()}`;if(h=2===h.length?h:`0${h}`,n=r[h])return i(null,n);let o=new XMLHttpRequest;o.addEventListener("load",function(){if(200!==o.status)return i&&i(o.status);let e=o.response;e.id=t,r[h]=e,i&&i(null,e)}),o.open("GET",this._getPath(`${t}/${l}/${h}.json`)),o.responseType="json",o.send()},getData:function(t){let e=this._data[t];if(!e)throw new Error("Load first data before usage");return e},_getPath:function(t){return`${t}`}},t.exports=new e},function(t,e,n){function s(t,e,i){this._container=t,this._options=l.extend({},d,i),this._canvas=null,this._el=null,this._ctx=null,this._data=null,this._grid=i.withGrid?new o(this):null,this._interfaces=[],this._xScale=1,this._yScale=1,this._xTranslate=0,this._stack=[],this.computeData(e,this._options.disabled),this.render(),this.draw()}function a(){h.call(this),this.draw=function(t,e,i){this._xScale=t||this._xScale,this._xTranslate=void 0===e?this._xTranslate:e,this._ctx.clearRect(0,0,this.width,this.height),this._stack=[],l.forIn(this._data,t=>{t.enabled&&this._drawBar(t.x,t.y,t,i)}),this._grid&&this.drawGrid()},this.render=function(){let t=document.createElement("div");t.innerHTML=r;let e=this._el=t.firstChild;this._container.appendChild(e),this._canvas=e.querySelector("canvas"),this._canvas.setAttribute("width",this._options.width),this._canvas.setAttribute("height",this._options.height),this._ctx=this._canvas.getContext("2d")},this.select=function(t){this.draw(this._xScale,this._xTranslate,t)},this.deselect=function(){this.draw(this._xScale,this._xTranslate)},this._drawBar=function(t,e,n,s){let a=n.minXValue=t[0],r=n.maxXValue=l.last(t),h=n.xRatio=this.width/(r-a),o=n.minYValue=0,d=e;if(this._options.scaleY){let t=this.interpolateX(0,n.minXValue,n.xRatio),e=this.interpolateX(this.width,n.minXValue,n.xRatio),i=this.getClosestIndexByXValue(t,n.x),s=this.getClosestIndexByXValue(e,n.x);d=d.slice(i,s)}let c=n.maxYValue=l.max(d),u=n.yRatio=this.height/(c-o),_=this.width/t.length*this._xScale;if(this._ctx.fillStyle=n.color,s){let l,r=this.interpolateX(s,n.minXValue,n.xRatio),o=this.getClosestIndexByXValue(r,n.x),d=this.interpolateXValue(t[0],a,h);for(i=0;i<t.length-1;i++){l=this.interpolateYValue(e[i],null,u);let n=this.interpolateXValue(t[i+1],a,h);this._ctx.globalAlpha=i===o?1:.5,this._ctx.fillRect(d,l,n-d,this.height-l),d=n}this._ctx.globalAlpha=i===o?1:.5,this._ctx.fillRect(d,l,d,this.height-l)}else{this._ctx.globalAlpha=1;let n,s=this.interpolateXValue(t[0],a,h);for(i=0;i<t.length-1;i++){n=this.interpolateYValue(e[i],null,u);let l=this.interpolateXValue(t[i+1],a,h);this._ctx.fillRect(s,n,l-s,this.height-n),s=l}this._ctx.fillRect(s,n,_,this.height-n)}n.visibleMinXValue=this.interpolateX(0,a,h),n.visibleMaxXValue=this.interpolateX(this.width,a,h),n.visibleMinYValue=this.interpolateY(this.height,o,u),n.visibleMaxYValue=this.interpolateY(0,o,u)},this.getClosestIndexByXValue=function(t,e){let i=1;for(let n=e.length;i<n;i++)if(e[i]>t)return i-1;return i-1}}const l=n(0),r=n(34);n(35);const h=n(2),o=n(4),d={width:500,height:100};a.prototype=Object.create(h.prototype),s.prototype=new a,t.exports=s},function(t,e,i){function n(t){l.call(this,t),this._xValue=null,this._onClick=this._onClick.bind(this)}const s=i(0),a=i(36);i(37);const l=i(3);i(1).singleton;n.prototype=Object.assign({},l.prototype,{wrap:function(){let t=this._graph,e=this;t.addInterface("IInteractive"),t.IInteractive_select=function(i){t.select(i);let n,a=t.getValues(i),l=[];s.forEach(a,t=>{l.push({title:t.name,value:t.yValue,color:t.color}),n=t.xValue}),e._xValue=n;let r=s.offsetTop(e._el);i+=s.offsetLeft(e._el),e.showPopup(i,r,{xValue:n,onClick:e._onClick,desc:l,isZoomed:t.state.isZoomed})},t.IInteractive_deselect=function(){t.deselect(),e.hidePopup()},t.IInteractive_click=function(){e._onClick()}},render:function(){let t=this._graph.container,e=document.createElement("div");e.innerHTML=a;let i=this._el=e.firstChild;this._canvas=this._el,t.appendChild(i)},_onClick:function(){let t=document.createEvent("Event");t.initEvent("zoom",!0,!0),t.xValue=this._xValue,t.xTranslate=this._graph.state.xTranslate,t.xScale=this._graph.state.xScale,this._canvas.dispatchEvent(t)}}),t.exports=n},function(t,e,i){const n=i(0);t.exports={SLIDER_HEIGHT:47*n.dpr,PREVIEW_HEIGHT:47*n.dpr,CANVAS_HEIGHT:41*n.dpr,SLIDER_LEFT_WIDTH:14*n.dpr,SLIDER_RIGHT_WIDTH:14*n.dpr,SLIDER_BORDER:3*n.dpr}},function(){},function(t,e,i){i(12);const n=i(0),s=i(13),a=i(6);let l=0;window.addEventListener("load",()=>{function t(){let t="Switch to";t+=0==l?" Night Mode":" Day Mode",d.innerHTML=t}let e=new s(".g1");a.load(1,function(t,i){t||e.draw(i,{title:"Followers"})});let i=new s(".g2");a.load(2,function(t,e){t||i.draw(e,{title:"Interactions"})});let r=new s(".g3");a.load(3,function(t,e){t||(r.determineDriver(e),r.draw(e,{title:"Messages"}))});let h=new s(".g4");a.load(4,function(t,e){t||(h.determineDriver(e),h.draw(a.getData(4),{title:"Views"}))});let o=new s(".g5");a.load(5,function(t,e){t||(o.determineDriver(e),o.draw(a.getData(5),{title:"Apps"}))});let d=document.querySelector("#mode-switcher");t(),d.addEventListener("click",function(e){e.preventDefault(),0==l?(n.addClass(document.body,"dark"),l=1):(n.removeClass(document.body,"dark"),l=0),t()})})},function(){},function(t,e,i){function n(t,e){this._container=document.querySelector(t),this.setDriver(e&&e.driver),this._plot=new c(this._container),this._preview=null,this._dataId=null,this._title=null,this._isZoomed=!1,this._xScale=null,this._xTranslate=null,this._controls=null,this._container.style.width=`${s.requestWidth()}px`,this._container.addEventListener("zoom",t=>{t.stopPropagation(),this.zoomIn(t.xValue,t.xScale,t.xTranslate)}),this._container.addEventListener("zoomToPie",t=>{t.stopPropagation(),this.zoomToPie(t.xValue,t.xScale,t.xTranslate,t.data)}),this._container.addEventListener("zoomout",t=>{t.stopPropagation(),this.zoomOut()})}const s=i(0),a=i(6),l=i(14),r=i(23),h=i(27),o=i(33),d=i(38),c=i(41),u=i(44),_=i(47),p=i(1).singleton;n.prototype={draw:function(t,e){this._dataId=t.id,this._title=e&&e.title,this._plot.draw(t,this._driver,e),this._preview=new u(this._container,{onChange:this._onChange.bind(this)}),this._preview.draw(t,this._previewDriver),this.drawCheckboxes(t)},drawCheckboxes:function(t,e){if(this._controls){let t=this._controls.node;s.erase(t),this._controls={node:t,inputs:[]}}else{let t=document.createElement("div");this._container.appendChild(t),this._controls={node:t,inputs:[]}}s.forIn(t.types,(i,n)=>{if("x"==n)return;let s=!0;e&&-1!==e.indexOf(n)&&(s=!1);let a=new _(this._controls.node,{checked:s,id:n,label:t.names[n],color:t.colors[n],onChange:this._toggleGraph.bind(this,n)});this._controls.inputs.push(a)})},determineDriver:function(t){let e=t.types.y0;return"bar"===e?t.stacked?this.setDriver("stackedHistogram"):this.setDriver("histogram"):"area"===e?this.setDriver("area"):"pie"===e?this.setDriver("pie"):this.setDriver("line")},setDriver:function(t){if(!this._driver||this._driver.name!==t)switch(t){case"pie":this._driver=new r,this._previewDriver=new l;break;case"histogram":this._driver=new o,this._previewDriver=this._driver;break;case"stackedHistogram":this._driver=new d,this._previewDriver=this._driver;break;case"area":this._driver=new l,this._previewDriver=this._driver;break;case"line":default:this._driver=new h,this._previewDriver=this._driver}},zoomIn:function(t,e,i){this._isZoomed||a.loadByTimestamp(this._dataId,t,(n,s)=>{n||(this._zoomIn(t,s),this._xScale=e,this._xTranslate=i)})},zoomToPie:function(t,e,i){this._isZoomed||a.loadByTimestamp(this._dataId,t,(n,s)=>{n||(p.hide(),this._plot.disappear(),this._preview.disappear(),setTimeout(()=>{this._plot.appear(),this._preview.appear(),this.setDriver("pie");let e=this._plot.graph.disabled;this._plot.draw(s,this._driver,{isZoomed:!0,disabled:e}),this._preview.draw(s,this._previewDriver,{disabled:e}),this._isZoomed=!0;{let e=this._plot.graph.getMinXValue(),i=this._plot.graph.getMaxXValue(),n=864e5;this._preview.update((i-e)/n,(t-e)/(t+n-t))}this._isZoomed=!0},200),this._xScale=e,this._xTranslate=i)})},zoomOut:function(){this._isZoomed&&(a.load(this._dataId,(t,e)=>{if(t)return;this._plot.disappear(),this._preview.disappear();let i=this._plot.graph.disabled;4===this._dataId&&(i=[]),this.drawCheckboxes(e,i),setTimeout(()=>{this._plot.appear(),this._preview.appear(),this.determineDriver(e),this._plot.draw(e,this._driver,{isZoomed:!1,title:this._title,disabled:i}),this._preview.draw(e,this._previewDriver,{disabled:i}),this._preview.update(this._xScale,this._xTranslate),this._isZoomed=!1},200)}),p.hide())},_zoomIn:function(t,e){p.hide(),this._plot.disappear(),this._preview.disappear(),this.drawCheckboxes(e,this._plot.graph.disabled),setTimeout(()=>{let i=this._plot.graph.disabled;this._plot.appear(),this._preview.appear(),this.determineDriver(e),this._plot.draw(e,this._driver,{isZoomed:!0,disabled:i}),this._preview.draw(e,this._previewDriver,{disabled:i}),this._isZoomed=!0;{this._preview.reset();let e=this._plot.graph.getMinXValue(),i=this._plot.graph.getMaxXValue(),n=t+864e5;this._preview.update((i-e)/(n-t),(t-e)/(n-t))}},200)},_toggleGraph:function(t,e){e?(this._plot.graph.enable(t),this._preview.graph.enable(t)):(this._plot.graph.disable(t),this._preview.graph.disable(t))},_onChange:function(t,e){this._plot.update(t,e)}},t.exports=n},function(t,e,i){function n(){this.name="area"}i(0);let s=i(15),a=i(19);n.prototype={draw:function(t,e,i){let n=new a(t,e,i);return i&&i.withInteractive&&new s(n),n},clean:function(){}},t.exports=n},function(t,e,n){function s(t){l.call(this,t),this._svg=this._canvas,this._line=null,this._onClick=this._onClick.bind(this)}const a=n(0),l=n(3),r=n(1).singleton;s.prototype=Object.assign({},l.prototype,{wrap:function(t){t.addInterface("IInteractive");let e=this;t.IInteractive_select=function(n){let s,l=t.getValues(n),r=[];a.forEach(l,l=>{r.push({title:l.name,value:l.yValue,color:l.color}),n=l.x,s=l.xValue;let h=a.offsetTop(e._svg),o=n+a.offsetLeft(e._svg);e.showPopup(o,h,{xValue:s,desc:r,onClick:e._onClick.bind(e,i),isZoomed:t.state.isZoomed})}),e._xValue=s,e._showLine(n)},t.IInteractive_deselect=function(){e._hideLine(),r.hide()},t.IInteractive_click=function(){e._onClick()}},_onClick:function(){let t=document.createEvent("Event");t.initEvent("zoomToPie",!0,!0),t.data={},t.xValue=this._xValue;let e=this._graph.state;t.xScale=e.xScale,t.xTranslate=e.xTranslate,this._canvas.dispatchEvent(t)},_showLine:function(t){let e=this._line;e||(e=document.createElementNS(a.SVG_NS,"line"),this._svg.insertBefore(e,this._svg.firstChild),this._line=e),e.setAttribute("x1",t+this._graph.marginLeft),e.setAttribute("y1",this._graph.marginTop),e.setAttribute("x2",t+this._graph.marginLeft),e.setAttribute("y2",this._graph.height+this._graph.marginTop),e.style.display="block"},_hideLine:function(){let t=this._line;t&&(t.style.display="none")}}),t.exports=s},function(t){t.exports="<div class=graph_interactive> <svg></svg> </div> "},function(t){t.exports="<div class=popup> <div class=popup_content> <span class=popup_title></span> <div class=popup_description></div> </div> </div> "},function(){},function(t,e,n){function s(t,e,i){this._container=t,this._options=l.extend({},d,i),this._canvas=null,this._ctx=null,this._data=null,this._rawData=e,this._grid=i.withGrid?new h(this):null,this._interfaces=[],this._xScale=1,this._yScale=1,this._xTranslate=0,this._Y=null,this._stack=[],this._drawn=!1,this.computeData(e),this.render(),this.draw()}function a(){r.call(this),this.draw=function(t,e,i){(i||!this._drawn)&&(this._computeY(),this._drawn=!0),this.supportInterface("IInteractive")&&this.IInteractive_deselect(),this._xScale=t||this._xScale,this._xTranslate=void 0===e?this._xTranslate:e,this._ctx.clearRect(0,0,this.width,this.height),this._stack=[];let n=[];l.forIn(this._data,t=>{t.enabled&&n.push(t)}),2>n.length||(l.forEach(n,(t,e)=>{let i=n.length-1===e;this._drawArea(t,i)}),this._grid&&this.drawGrid())},this.render=function(){let t=document.createElement("div");t.innerHTML=o;let e=this._el=t.firstChild;this._container.appendChild(e),this._canvas=e.querySelector("canvas"),this._canvas.setAttribute("width",this._options.width),this._canvas.setAttribute("height",this._options.height),this._ctx=this._canvas.getContext("2d")},this.getRawData=function(t){if(null==t)return this._rawData;let e=t-3,i=t+3,n=this._rawData.columns[0];if(0>e){let t=-1*e;e+=t,i+=t}if(i>=n.length-1){let t=i-n.length-1;e+=t,i+=t}let s={columns:[],colors:{},names:{},types:{}};return(n=n.slice(e,i)).unshift("x"),s.columns.push(n),s.types.x="x",l.forEach(this._rawData.columns,t=>{let n=t[0];if("x"!==n){let a=t.slice(e,i);a.unshift(n),s.columns.push(a),s.types[n]=this._rawData.types[n],s.names[n]=this._rawData.names[n],s.colors[n]=this._rawData.colors[n]}}),s},this._drawArea=function(t,e){function n(t){let e=0;return l.forEach(this._stack,i=>{e+=this._data[i].y[t]}),e}let s=t.x,a=t.y,r=this._Y,h=t.minXValue=l.min(s),o=t.maxXValue=l.max(s),d=t.minYValue=0,c=t.maxYValue=1,u=t.xRatio=this.width/(o-h),_=t.yRatio=this.height/(c-d);for(this._ctx.beginPath(),this._ctx.fillStyle=t.color,this._ctx.strokeStyle=t.color,this._ctx.lineJoin="bevel",this._ctx.globalCompositeOperation="destination-over",i=0;i<s.length;i++){let t=n.call(this,i),l=e?t:a[i]+t,o=this.interpolateXValue(s[i],h,u),d=this.interpolateYValue(l/r[i],null,_);0===i&&this._ctx.moveTo(o,e?0:this.height),this._ctx.lineTo(o,d),i===s.length-1&&this._ctx.lineTo(o,e?0:this.height)}this._ctx.stroke(),this._ctx.fill(),this._stack.push(t.id),t.visibleMinXValue=this.interpolateX(0,h,u),t.visibleMaxXValue=this.interpolateX(this.width,h,u),t.visibleMinYValue=0,t.visibleMaxYValue=100},this.getValues=function(t){let e;for(let t in this._data)if((e=this._data[t]).enabled)break;let i=this.interpolateX(t,e.minXValue,e.xRatio),n=this.getClosestIndexByXValue(i,e.x),s=[];return l.forIn(this._data,t=>{if(t.enabled){let e=t.x,i=t.y;s.push({id:t.id,name:t.name,x:this.interpolateXValue(e[n],t.minXValue,t.xRatio),xValue:e[n],yValue:i[n],color:t.color,i:n})}}),s},this._computeY=function(){let t=[];if(l.forIn(this._data,(e,i)=>{e.enabled&&t.push(i)}),0===t.length)return void(this._Y=[]);let e=[],i=this._data[t[0]].x;for(let n,s=0,a=i.length;s<a;s++)n=0,l.forEach(t,t=>{let e=this._data[t];n+=e.y[s]}),e.push(n);this._Y=e}}const l=n(0),r=n(2),h=n(4),o=n(22),d={width:500,height:100};a.prototype=Object.create(r.prototype),s.prototype=new a,t.exports=s},function(t){t.exports="<div class=graph_grid> <svg></svg> </div> "},function(){},function(t){t.exports='<div class="graph area_graph"> <canvas></canvas> </div> '},function(t,e,i){function n(){this.name="pie"}const s=i(24);let a=i(26);n.prototype={draw:function(t,e,i){let n=new s(t,e,i);if(i&&i.withInteractive){let t=new a(n);n.interactive=t}return n}},t.exports=n},function(t,e,i){function n(t,e,i){this._container=t,this._options=a.extend({},h,i),this._svg=null,this._data=null,this._interfaces=[],this._Y=null,this.render(),this.computeData(e,this._options.disabled),this.draw()}function s(){l.call(this),this.draw=function(t,e){this._xScale=t||this._xScale,this._xTranslate=void 0===e?this._xTranslate:e,this.supportInterface("IInteractive")&&this.IInteractive_deselect(),this._clearRect();let i=this.getAnyEnabledRecord();if(!i)return;let n=i.x,s=n[0],l=a.last(n),r=this.width/(l-s);s=this.interpolateX(0,s,r),l=function(t,e,i){return e+t/(i*this._xScale)}.call(this,this.width,s,r);let h=0;for(let t=0;t<n.length;t++)if(n[t]>=s){h=t;break}let o=n.length-1;for(let t=h;t<n.length;t++)if(n[t]>=l){o=t-1;break}0>o&&(o=0),this._computeY(h,o),this._minI=h,this._maxI=o,this._amount={};let d=0;a.forIn(this._data,t=>{if(t.enabled){t.id;let e=this._drawPie(t,h,o,this._Y,{rotate:d});d+=e}}),this.interactive&&this.interactive.bindHover()},this.getVisibleMinXValue=function(){let t=this.getAnyEnabledRecord();return t?t.x[this._minI]:0},this.getMinXValue=function(){let t=this.getAnyEnabledRecord();return t?t.x[this._minI]:0},this.getMaxXValue=function(){let t=this.getAnyEnabledRecord();return t?t.x[this._maxI]:0},this.getVisibleMaxXValue=function(){let t=this.getAnyEnabledRecord();return t?t.x[this._maxI]:0},this.render=function(){let t=document.createElement("div");t.innerHTML=r;let e=this._el=t.firstChild;this._container.appendChild(e),this._svg=e.querySelector("svg"),this._svg.setAttribute("width",this._options.width),this._svg.setAttribute("height",this._options.height)},Object.defineProperty(this,"radius",{get(){return this.height/2}}),Object.defineProperty(this,"width",{get(){let t=a.width(this._svg);return delete this.width,Object.defineProperty(this,"width",{get:()=>t}),t}}),Object.defineProperty(this,"height",{get(){let t=a.height(this._svg);return delete this.height,Object.defineProperty(this,"height",{get:()=>t}),t}}),Object.defineProperty(this,"svg",{get(){return this._svg}}),this._drawPie=function(t,e,i,n,s){function l(t){return a.round(t*(Math.PI/180),3)}var r=Math.sin,h=Math.sqrt;t.x;let o=t.y,d=0;for(let t=e;t<=i;t++)d+=o[t];this._amount[t.id]=d;let c,u=this.radius,_=u,p=this.width/2,g=360*(d/n),f=180<g?360-g:g,v=l(f),x=h(2*u*u-2*u*u*Math.cos(v));90>=f?c=u*r(v):c=u*r(v=l(180-f));let w,m=h(x*x-c*c),y=0;180>=g?w=p+c:(w=p-c,y=1);let b=document.createElementNS(a.SVG_NS,"path");this._svg.appendChild(b);let I=`M${p} ${_}`;I+=` L${p} 0`,I+=` A${u} ${u} 1 ${y} 1 ${w} ${m} z`;let S=`rotate(${s.rotate} ${p} ${_})`;return b.setAttribute("d",I),b.setAttribute("transform",S),b.setAttribute("fill",t.color),b.setAttribute("path-id",t.id),g},this._computeY=function(t,e){let i=[];if(a.forIn(this._data,(t,e)=>{t.enabled&&i.push(e)}),0===i.length)return void(this._Y=0);let n=0;for(let s,l=t;l<=e;l++)s=0,a.forEach(i,t=>{let e=this._data[t];s+=e.y[l]}),n+=s;this._Y=n},this._clearRect=function(){a.erase(this._svg)},this.getValues=function(){let t=[];return a.forIn(this._data,(e,i)=>{if(e.enabled){e.x,e.y;t.push({id:e.id,name:e.name,yValue:this._amount[i],color:e.color})}}),t}}const a=i(0),l=i(2),r=i(25),h={width:500,height:100};s.prototype=Object.create(l.prototype),n.prototype=new s,t.exports=n},function(t){t.exports='<div class="graph circle_graph"> <svg></svg> </div> '},function(t,e,i){function n(t){a.call(this,t),this._svg=this._canvas}const s=i(0),a=i(3),l=i(1).singleton;n.prototype=Object.assign({},a.prototype,{wrap:function(t){let e=this;t.addInterface("IInteractive"),t.IInteractive_select=function(i,n){let a=n.target,l=s.offsetTop(a),r=a.getAttribute("path-id"),h=t.getValues(),o=[];s.forEach(h,t=>{r!==t.id||o.push({title:t.name,value:t.yValue,color:t.color})}),e.showPopup(i,l,{desc:o,isZoomed:t.state.isZoomed})},t.IInteractive_deselect=function(){e.hidePopup()}},bindHover:function(){if(!this._graph.supportInterface("IInteractive"))throw new Error("Graph should support IInteractive");let t=this._graph.svg.querySelectorAll("path");s.forEach(t,t=>{this._bindHover(t)})},_bindHover:function(t){if(!this._graph.supportInterface("IInteractive"))throw new Error("Graph should support IInteractive");t.addEventListener("mousemove",e=>{if(e.target===t){let t=e.clientX-this._graph.marginLeft;0>t||this._graph.IInteractive_select(t,e)}}),t.addEventListener("mouseleave",t=>{t.relatedTarget===l.el||s.isChild(t.relatedTarget,l.el)||this._graph.IInteractive_deselect()})},render:function(){this._canvas=this._graph.svg}}),t.exports=n},function(t,e,i){function n(){this.name="line"}let s=i(28),a=i(30);n.prototype={draw:function(t,e,i){let n=new s(t,e,i);return i&&i.withInteractive&&new a(n),n}},t.exports=n},function(t,e,n){function s(t,e,i){this._container=t,this._options=h.extend({},u,i),this._canvas=null,this._el=null,this._ctx=null,this._data={},this._grid=i.withGrid?new d(this):null,this._interfaces=[],this._xScale=1,this._yScale=1,this._xTranslate=0,this._Y=null,this._drawn=!1,this._xValueStep=null,this.computeData(e,this._options.disabled),this.render(),this.draw()}function a(){c.call(this),this.draw=function(t,e,i){(i||!this._drawn)&&(this._computeY(),this._drawn=!0),this.supportInterface("IInteractive")&&this.IInteractive_deselect(),this._xScale=t||this._xScale,this._xTranslate=void 0===e?this._xTranslate:e,this._ctx.clearRect(0,0,this.width,this.height),h.forIn(this._data,t=>{t.enabled&&this._drawLine(t)}),this._grid&&this.drawGrid()},this.drawGrid=function(){if(this._grid)if(this._options.dualY){let t=[],e=[],i=[],n=0;if(h.forIn(this._data,s=>{if(s.enabled){n++;let a=[];a.push(s.visibleMinXValue),a.push(s.visibleMinYValue),t.push(a);let l=[];l.push(s.visibleMaxXValue),l.push(s.visibleMaxYValue),e.push(l),i.push(s.color)}}),!n)return;this._grid.drawDualY(t,e,i)}else{let t=r,e=l,i=r,n=l,s=0;if(h.forIn(this._data,a=>{a.enabled&&(s++,t=h.min(a.visibleMinXValue,t),e=h.max(a.visibleMaxXValue,t),i=h.min(a.visibleMinYValue,i),n=h.max(a.visibleMaxYValue,n))}),!s)return;this._grid.draw(t,e,i,n)}},this.getPoints=function(t){let e=[];return h.forIn(this._data,({enabled:i},n)=>{i&&e.push(this._getPoint(n,t))}),e},this.render=function(){let t=document.createElement("div");t.innerHTML=o;let e=this._el=t.firstChild;this._container.appendChild(e),this._canvas=e.querySelector("canvas"),this._canvas.setAttribute("width",this._options.width),this._canvas.setAttribute("height",this._options.height),this._ctx=this._canvas.getContext("2d")},this._computeY=function(){let t=[];if(h.forIn(this._data,(e,i)=>{e.enabled&&t.push(i)}),0===t.length)return void(this._Y=[]);let e=[],i=this._data[t[0]].x;for(let n,s=0,a=i.length;s<a;s++)n=0,h.forEach(t,t=>{let e=this._data[t];n=h.max(e.y[s],n)}),e.push(n);let n=i[1]-i[0];this._xValueStep=n,this._Y=e},this._getPoint=function(t,e){let i=this._data[t],n=i.x,s=i.y,a=this.interpolateX(e,i.minXValue,i.xRatio),l=this.getClosestIndexByXValue(a,i.x);return{id:t,name:i.name,x:this.interpolateXValue(n[l],i.minXValue,i.xRatio),y:this.interpolateYValue(s[l],i.minYValue,i.yRatio),xValue:n[l],yValue:s[l],color:i.color,i:l}},this._drawLine=function(t){let e=t.x,n=t.y,s=this._Y,a=t.minXValue=e[0],l=t.maxXValue=h.last(e),r=t.xRatio=this.width/(l-a);if(this._options.dualY?s=t.y:this._options.scaleY&&(s=this._Y),this._options.scaleY){let e=this.interpolateX(0,t.minXValue,t.xRatio),i=this.interpolateX(this.width,t.minXValue,t.xRatio),n=this.getClosestIndexByXValue(e,t.x),a=this.getClosestIndexByXValue(i,t.x);s=s.slice(n,a)}let o=t.minYValue=0,d=t.maxYValue=h.max(s),c=t.yRatio=this.height/(d-o);for(this._ctx.beginPath(),this._ctx.strokeStyle=t.color,this._ctx.lineWidth=this._getLineWidth(),this._ctx.lineJoin="bevel",i=0;i<e.length;i++){let t=this.interpolateXValue(e[i],a,r),s=this.interpolateYValue(n[i],o,c);0==i?this._ctx.moveTo(t,s):this._ctx.lineTo(t,s)}this._ctx.stroke(),t.visibleMinXValue=this.interpolateX(0,a,r),t.visibleMaxXValue=this.interpolateX(this.width,a,r),t.visibleMinYValue=this.interpolateY(this.height,o,c),t.visibleMaxYValue=this.interpolateY(0,o,c)},this._getLineWidth=function(){return 1*h.dpr},Object.defineProperty(this,"xValueStep",{get(){return this._xValueStep}})}var l=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;const h=n(0),o=n(29),d=n(4),c=n(2),u={width:500,height:100};a.prototype=Object.create(c.prototype),s.prototype=new a,t.exports=s},function(t){t.exports='<div class="graph line_graph"> <canvas></canvas> </div> '},function(t,e,i){function n(t){a.call(this,t),this._points={},this._svg=this._canvas,this._line=null,this._xValue=null,this._onClick=this._onClick.bind(this)}const s=i(0);i(31);const a=i(3),l=i(32);i(1).singleton,n.prototype=Object.assign({},a.prototype,l,{wrap:function(t){t.addInterface("IInteractive");let e=this;t.IInteractive_select=function(i){let n=this.getPoints(i);if(!n.length)return;let a,l=[];n.forEach(t=>{e._showPoint(t),a=t.xValue,i=t.x,l.push({title:t.name,value:t.yValue,color:t.color})}),e._xValue=a,e._showLine(i);let r=s.offsetTop(e._svg);i+=s.offsetLeft(e._svg),e.showPopup(i,r,{xValue:a,desc:l,onClick:e._onClick,isZoomed:t.state.isZoomed,xValueStep:t.xValueStep})},t.IInteractive_deselect=function(){e._hideLine(),e._hidePoints(),e.hidePopup(),e.unbindKeyboard(),e._xValue=null},t.IInteractive_click=function(){e._onClick()}},_onClick:function(){let t=document.createEvent("Event");t.initEvent("zoom",!0,!0),t.xValue=this._xValue,t.xTranslate=this._graph.state.xTranslate,t.xScale=this._graph.state.xScale,this._svg.dispatchEvent(t)},_showLine:function(t){let e=this._line;e||(e=document.createElementNS(s.SVG_NS,"line"),this._svg.insertBefore(e,this._svg.firstChild),this._line=e),e.setAttribute("x1",t+this._graph.marginLeft),e.setAttribute("y1",this._graph.marginTop),e.setAttribute("x2",t+this._graph.marginLeft),e.setAttribute("y2",this._graph.height+this._graph.marginTop),e.style.display="block"},_showPoint:function(t){let e=this._points[t.name];e||(e=document.createElementNS(s.SVG_NS,"circle"),this._svg.appendChild(e),this._points[t.name]=e),e.setAttribute("cx",this._graph.marginLeft+t.x),e.setAttribute("cy",this._graph.marginTop+t.y),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",1*s.dpr),e.setAttribute("r",4*s.dpr),e.style.display="block"},_hideLine:function(){let t=this._line;t&&(t.style.display="none")},_hidePoints:function(){s.forIn(this._points,t=>{t.style.display="none"})}}),t.exports=n},function(){},function(t){t.exports={bindKeyboard:function(){this.__keyboardIsBinded||(this.__keyboardIsBinded=!0,window.addEventListener("keydown",this.__keyDown))},unbindKeyboard:function(){this.__keyboardIsBinded=!1,window.removeEventListener("keydown",this.__keyDown)},__keyDown:function(t){switch(t.keyCode){case 37:this._graph.selectPrev(this._x);break;case 39:this._graph.selectNext(this._x)}}}},function(t,e,i){function n(){this.name="histogram"}const s=i(7);let a=i(8);n.prototype={draw:function(t,e,i){let n=new s(t,e,i);return i&&i.withInteractive&&new a(n),n}},t.exports=n},function(t){t.exports='<div class="graph histogram_graph"> <canvas></canvas> </div> '},function(){},function(t){t.exports='<div class="histogram_graph_interactive graph_interactive"></div> '},function(){},function(t,e,i){function n(){this.name="stackedHistogram"}const s=i(39);let a=i(8);n.prototype={draw:function(t,e,i){let n=new s(t,e,i);return i&&i.withInteractive&&new a(n),n}},t.exports=n},function(t,e,i){function n(t,e,i){this._container=t,this._options=a.extend({},d,i),this._canvas=null,this._el=null,this._ctx=null,this._data=null,this._grid=i.withGrid?new o(this):null,this._interfaces=[],this._xScale=1,this._yScale=1,this._xTranslate=0,this._Y=null,this._stack=[],this._drawn=!1,this.computeData(e,this._options.disabled),this.render(),this.draw()}function s(){r.call(this),this.draw=function(t,e,i,n){(i||!this._drawn)&&(this._computeY(),this._drawn=!0),this._xScale=t||this._xScale,this._xTranslate=void 0===e?this._xTranslate:e,this._ctx.clearRect(0,0,this.width,this.height),this._stack=[],a.forIn(this._data,t=>{t.enabled&&this._drawBar(t,n)}),this._grid&&this.drawGrid()},this.select=function(t){this.draw(this._xScale,this._xTranslate,!1,t)},this.deselect=function(){this.draw(this._xScale,this._xTranslate)},this.render=function(){let t=document.createElement("div");t.innerHTML=l;let e=this._el=t.firstChild;this._container.appendChild(e),this._canvas=e.querySelector("canvas"),this._canvas.setAttribute("width",this._options.width),this._canvas.setAttribute("height",this._options.height),this._ctx=this._canvas.getContext("2d")},this._drawBar=function(t,e){function i(t){let e=0;return a.forEach(this._stack,i=>{e+=this._data[i].y[t]}),e}let n=t.x,s=t.y,l=this._Y,r=t.minXValue=n[0],h=t.maxXValue=a.last(n),o=t.xRatio=this.width/(h-r);if(this._options.scaleY){let e=this.interpolateX(0,t.minXValue,t.xRatio),i=this.interpolateX(this.width,t.minXValue,t.xRatio),n=this.getClosestIndexByXValue(e,t.x),s=this.getClosestIndexByXValue(i,t.x);l=l.slice(n,s)}let d=t.minYValue=0,c=t.maxYValue=a.max(l),u=t.yRatio=this.height/(c-d),_=this.width/n.length*this._xScale;if(this._ctx.fillStyle=t.color,e){this._ctx.globalAlpha=.5;let a=this.interpolateX(e,t.minXValue,t.xRatio),l=this.getClosestIndexByXValue(a,t.x);for(let t=0,e=n.length;t<e;t++){let a=i.call(this,t),h=this.interpolateYValue(a,null,u),d=this.interpolateXValue(n[t],r,o),c=this.interpolateYValue(a+s[t],null,u),p=t<e-1?this.interpolateXValue(n[t+1],r,o):_+d;this._ctx.globalAlpha=t===l?1:.5,this._ctx.fillRect(d,c,p-d,h-c)}}else{this._ctx.globalAlpha=1;for(let t=0,e=n.length;t<e;t++){let a=i.call(this,t),l=this.interpolateYValue(a,null,u),h=this.interpolateXValue(n[t],r,o),d=this.interpolateYValue(a+s[t],null,u),c=t<e-1?this.interpolateXValue(n[t+1],r,o):_+h;this._ctx.fillRect(h,d,c-h,l-d)}}this._stack.push(t.id),t.visibleMinXValue=this.interpolateX(0,r,o),t.visibleMaxXValue=this.interpolateX(this.width,r,o),t.visibleMinYValue=this.interpolateY(this.height,d,u),t.visibleMaxYValue=this.interpolateY(0,d,u)},this._computeY=function(){let t=[];if(a.forIn(this._data,(e,i)=>{e.enabled&&t.push(i)}),0===t.length)return void(this._Y=[]);let e=[],i=this._data[t[0]].x;for(let n,s=0,l=i.length;s<l;s++)n=0,a.forEach(t,t=>{let e=this._data[t];n+=e.y[s]}),e.push(n);this._Y=e}}const a=i(0),l=i(40),r=i(2),h=i(7),o=i(4),d={width:500,height:100};s.prototype=Object.create(h.prototype),n.prototype=new s,t.exports=n},function(t){t.exports='<div class="graph stacked_histogram_graph"> <canvas></canvas> </div> '},function(t,e,i){function n(t){let e=document.createElement("div");e.innerHTML=s;let i=this._el=e.firstChild;t.appendChild(i),this._container=i,i.querySelector(".zoom_out").addEventListener("click",t=>{t.stopPropagation(),t.preventDefault();let e=document.createEvent("Event");e.initEvent("zoomout",!0,!0),i.dispatchEvent(e)})}const s=i(42),a=i(0),l=i(5);i(43);let r=a.requestWidth();n.prototype={draw:function(t,e,i){let n=!!t.y_scaled;this.clean(),i&&i.isZoomed?a.addClass(this._el,"is_zoomed"):(a.removeClass(this._el,"is_zoomed"),this.setTitle(i&&i.title)),this._graph=e.draw(this._container.querySelector(".plot_internal"),t,{width:r-10,height:.7*r,withGrid:!0,withInteractive:!0,scaleY:!0,dualY:n,disabled:i&&i.disabled,isZoomed:!(!i||!i.isZoomed)})},appear:function(){a.removeClass(this._container,"disappear")},disappear:function(){a.addClass(this._container,"disappear")},clean:function(){let t=this._container.querySelector(".plot_internal");a.erase(t)},reset:function(){this._slider.reset()},update:function(t,e){this._graph.draw(t,e);let i=this._graph.getVisibleMinXValue(),n=this._graph.getVisibleMaxXValue(),s=new Date(i),a=new Date(n);if(a-s<=11232e4){let t=`${(s=new Date((n+i)/2)).getUTCDate()} ${l.getMonth(s)} ${s.getUTCFullYear()}`;this.setDescription(`${t}`)}else{let t=`${s.getUTCDate()} ${l.getMonth(s)} ${s.getUTCFullYear()}`,e=`${a.getUTCDate()} ${l.getMonth(a)} ${a.getUTCFullYear()}`;this.setDescription(`${t} - ${e}`)}},setTitle:function(t){this._container.querySelector(".plot_title").innerHTML=t||""},setDescription:function(t){this._container.querySelector(".plot_range").innerHTML=t||""},get container(){return this._container},get graph(){return this._graph}},t.exports=n},function(t){t.exports='<div class=plot> <p class=plot_heading> <a href=# class=zoom_out> <span class=icon> <svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"><path d="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"/></svg> </span> <span>Zoom Out<span> </span></span></a> <span class=plot_title></span> <span class=plot_range></span> </p> <div class=plot_internal></div> </div> '},function(){},function(t,e,i){function n(t,e){this._container=t,this.render(),this._slider=new l(this._el,e),this._graph=null}const s=i(0),a=i(9),l=i(45),r=i(46);i(10),n.prototype={draw:function(t,e,i){let n=this._el.querySelector(".canvas"),s=getComputedStyle(this._el.parentNode);this.clean();let l=!!t.y_scaled;this._graph=e.draw(n,t,{width:parseFloat(s.width)-a.SLIDER_LEFT_WIDTH-a.SLIDER_RIGHT_WIDTH,height:a.CANVAS_HEIGHT,dualY:l,disabled:i&&i.disabled})},appear:function(){s.removeClass(this._el,"disappear")},disappear:function(){s.addClass(this._el,"disappear")},update(t,e){this._slider.posByScale(t,e)},reset:function(){this._slider.reset()},clean:function(){let t=this._el.querySelector(".canvas");s.erase(t)},get width(){return this._el.getBoundingClientRect().width},get height(){return this._el.getBoundingClientRect().height},get graph(){return this._graph},render:function(){let t=document.createElement("div");t.innerHTML=r,this._el=t.firstChild,this._container.appendChild(this._el);let e=s.requestWidth();this._el.style.width=`${e}px`,this._el.style.height=`${a.PREVIEW_HEIGHT-2*a.SLIDER_BORDER}px`;let i=this._el.querySelector(".canvas");i.style.marginLeft=`${a.SLIDER_LEFT_WIDTH}px`,i.style.marginRight=`${a.SLIDER_RIGHT_WIDTH}px`,i.style.width=`${e-a.SLIDER_LEFT_WIDTH-a.SLIDER_RIGHT_WIDTH}px`,i.style.height=`${a.CANVAS_HEIGHT}px`}},t.exports=n},function(t,e,i){function n(t,e){let i=t.querySelector(l.SLIDER);this._el=i,this._el.style.width=t.getBoundingClientRect().width,this.sliderUI={left:i.querySelector(l.LEFT),right:i.querySelector(l.RIGHT),view:i.querySelector(l.VIEW)},this.overlayUI={left:i.querySelector(l.OVERLAY_LEFT),right:i.querySelector(l.OVERLAY_RIGHT)},this.onChange=e.onChange,this.config=s.extend({},r,e),this.render(),this._initUI()}let s=i(0),a=i(9);i(10);const l={SLIDER:".slider",LEFT:".slider_left",RIGHT:".slider_right",VIEW:".slider_view",OVERLAY_LEFT:".overlay_left",OVERLAY_RIGHT:".overlay_right"},r={sliderWidth:100*s.dpr,sliderMinWidth:20*s.dpr,onChange:null};n.prototype={pos:function(t,e){0>t&&(t=0),e<this.config.sliderMinWidth&&(e=this.config.sliderMinWidth);const{left:i,right:n,view:s}=this.sliderUI;s.style.width=`${e}px`,t<a.SLIDER_LEFT_WIDTH&&(t=a.SLIDER_LEFT_WIDTH),this.overlayUI.left.style.width=`${t}px`;i.getBoundingClientRect().width;let l=this.width-e-t;this.overlayUI.right.style.width=`${l}px`,this._onChange()},posByScale:function(t,e){let{left:i,right:n,view:a}=this.sliderUI,l=s.width(i),r=s.width(n),h=this.width-l-r,o=h/t;o>=h&&(o=h);let d=s.round(e*o+l);this.pos(d,s.round(o))},reset:function(){this.pos(0,this.config.sliderWidth)},_initUI:function(){this._el.style.display="block",this.pos(0,this.config.sliderWidth),this._bindUI()},getXScale(){let{left:t,right:e,view:i}=this.sliderUI,n=s.width(i),a=s.width(t),l=s.width(e);return(this.width-a-l)/n},getXTranslate(){let{left:t,view:e}=this.sliderUI,i=s.width(e),n=s.width(t);return(e.offsetLeft-n)/i},getVisibleCoords(){let{left:t,view:e}=this.sliderUI,i=e.getBoundingClientRect().width,n=t.getBoundingClientRect().width,s=e.offsetLeft;return[s-n,s+i]},_onChange(){this.onChange&&this.onChange(this.getXScale(),this.getXTranslate())},_bindUI:function(){const t=this.config,{left:e,right:i,view:n}=this.sliderUI,s=(this.width,a.SLIDER_LEFT_WIDTH),l=a.SLIDER_RIGHT_WIDTH;let r=this._el.getBoundingClientRect().left;this._bindSlider(e,e=>{let i=e.clientX-s-r;if(e.changedTouches){i=e.changedTouches[0].clientX-s-r}0>i&&(i=0);let a=i+s,l=this.overlayUI.left.getBoundingClientRect().width-a,h=n.getBoundingClientRect().width+l;h<=t.sliderMinWidth&&(a+=h-t.sliderMinWidth,h=t.sliderMinWidth),this.overlayUI.left.style.width=`${a}px`,n.style.width=`${h}px`,this._onChange()}),this._bindSlider(i,e=>{let i=e.movementX,a=n.getBoundingClientRect().width;if(e.changedTouches){let t=e.changedTouches[0],n=this.overlayUI.left.getBoundingClientRect().width;i=t.clientX-s-a-n-r}let h=a+i;h<t.sliderMinWidth&&(h=a+(i=t.sliderMinWidth-a));let o=this.overlayUI.right.getBoundingClientRect().width-i;o<l&&(h+=o-l,o=l),this.overlayUI.right.style.width=`${o}px`,n.style.width=`${h}px`,this._onChange()}),this._bindSlider(n,t=>{let e=t.movementX;if(t.changedTouches){let i=t.changedTouches[0];if(!this._sliderClientX)return void(this._sliderClientX=i.clientX);e=i.clientX-this._sliderClientX,this._sliderClientX=i.clientX}let i=this.overlayUI.left.getBoundingClientRect().width+e;i<s&&(e+=s-i,i=s);let n=this.overlayUI.right.getBoundingClientRect().width-e;n<l&&(e-=l-n,n=l,i=this.overlayUI.left.getBoundingClientRect().width+e),this.overlayUI.left.style.width=`${i}px`,this.overlayUI.right.style.width=`${n}px`,this._onChange()})},_bindSlider(t,e){function i(){s.addClass(l._el,"grabbing"),r.addEventListener("mouseup",n),r.addEventListener("touchend",n),l._el.addEventListener("mousemove",a),l._el.addEventListener("touchmove",a,!!h&&{passive:!0})}function n(){s.removeClass(l._el,"grabbing"),l._el.removeEventListener("mousemove",a),l._el.removeEventListener("touchmove",a,!!h&&{passive:!0}),l._sliderClientX=null,r.removeEventListener("mouseup",n),r.removeEventListener("touchend",n)}function a(t){e(t)}let l=this;const r=t.ownerDocument;let h=!1;try{let t=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,!!h&&{passive:!0})},get width(){return s.width(this._el)},get height(){return s.height(this._el)},render:function(){this._el.style.height=`${a.CANVAS_HEIGHT}px`;let{left:t,right:e,view:i}=this.sliderUI;t.style.width=`${a.SLIDER_LEFT_WIDTH}px`,t.style.height=`${a.SLIDER_HEIGHT-a.SLIDER_BORDER}px`,t.style.marginTop=`-${a.SLIDER_BORDER}px`,e.style.width=`${a.SLIDER_RIGHT_WIDTH}px`,e.style.height=`${a.SLIDER_HEIGHT-a.SLIDER_BORDER}px`,e.style.marginTop=`-${a.SLIDER_BORDER}px`,i.style.height=`${a.SLIDER_HEIGHT-a.SLIDER_BORDER}px`,i.style.marginTop=`-${a.SLIDER_BORDER}px`,i.style.borderTopWidth=`${a.SLIDER_BORDER}px`,i.style.borderBottomWidth=`${a.SLIDER_BORDER}px`,this.overlayUI.left.style.height=`${a.CANVAS_HEIGHT}px`,this.overlayUI.right.style.height=`${a.CANVAS_HEIGHT}px`}},t.exports=n},function(t){t.exports='<div class=preview> <div class=canvas></div> <div class=slider> <div class="overlay overlay_left"> <div class=slider_left><span></span></div> </div> <div class=slider_view> </div> <div class="overlay overlay_right"> <div class=slider_right><span></span></div> </div> </div> </div> '},function(t,e,i){function n(t,e){this._container=t,this._el=this._init(),this._options=a.extend({},l,e),this._input=this._el.querySelector('input[type="checkbox"]'),this._label=this._el.querySelector("label");let i=Math.ceil(100*Math.random()),n=this._options.id;this._input.setAttribute("id",`${n}-checkbox-${i}`),this._label.innerHTML=this._options.label,this._label.setAttribute("for",`${n}-checkbox-${i}`),this._input.checked=!!e.checked,a.addClass(this._el,"active"),this._el.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.toggle()}),this._input.checked?(a.addClass(this._el,"checked"),this._el.style.background=this._options.color,this._el.style.color="white"):(a.removeClass(this._el,"checked"),this._el.style.color=this._options.color,this._el.style.background="none"),this._el.style.borderColor=this._options.color}const s=i(48),a=i(0);i(49);const l={label:null,onChange:function(){},checked:!1};n.prototype={toggle:function(){this._input.checked=!this._input.checked,this._input.checked?(a.addClass(this._el,"checked"),this._el.style.color="white",this._el.style.background=this._options.color):(a.removeClass(this._el,"checked"),this._el.style.color=this._options.color,this._el.style.background="none"),this._options.onChange(this._input.checked)},_init:function(){let t=document.createElement("div");t.innerHTML=s;let e=t.firstChild;return this._container.appendChild(e),e}},t.exports=n},function(t){t.exports='<span class=custom_checkbox> <input type=checkbox /> <svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg> <label></label> </span> '},function(){}]);